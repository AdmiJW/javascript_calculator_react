(this.webpackJsonpjavascript_calculator=this.webpackJsonpjavascript_calculator||[]).push([[0],{17:function(e,t,n){},18:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),i=n(10),c=n.n(i),u=n(3),s=n(4),l=n(2),o=n(7),d=n(6),p=n(11),f=n(1),m=[["sin","sin",!1],["cos","cos",!1],["tan","tan",!1],["fas fa-superscript","pow",!0],["fas fa-square-root-alt","sqrt",!0],["7","seven",!1],["8","eight",!1],["9","nine",!1],["DEL","del",!1],["AC","clear",!1],["4","four",!1],["5","five",!1],["6","six",!1],["fas fa-times","multiply",!0],["fas fa-divide","divide",!0],["1","one",!1],["2","two",!1],["3","three",!1],["fas fa-plus","add",!0],["fas fa-minus","subtract",!0],["fas fa-percentage","percent",!0],["0","zero",!1],[".","decimal",!1],["=","equals",!1]],h={0:"zero",1:"one",2:"two",3:"three",4:"four",5:"five",6:"six",7:"seven",8:"eight",9:"nine","+":"add","-":"subtract","*":"multiply","/":"divide",".":"decimal","%":"percent",Backspace:"del","^":"pow","=":"equals"},b={"+":0,"-":0,"*":1,"/":1,"^":2};var v={zero:"0",one:"1",two:"2",three:"3",four:"4",five:"5",six:"6",seven:"7",eight:"8",nine:"9",decimal:".",decimalNew:"0.",percent:"%",sin:"sin",cos:"cos",tan:"tan",sqrt:"\u221a",pow:"^",add:"+",subtract:"-",multiply:"*",divide:"/"},y=null;function E(e,t){var n=v[t];return[].concat(Object(f.a)(e.inputArray),[n])}function A(e,t){var n=e.inputArray.length,r=v[t];if(e.inputArray[n-1].length>16){y&&window.clearTimeout(y);var a=document.getElementById("display");return a.innerText="LIMIT EXCEEDED",y=setTimeout((function(){a.innerText=e.inputArray[n-1]}),500),e.inputArray}return[].concat(Object(f.a)(e.inputArray.slice(0,n-1)),[e.inputArray[n-1]+r])}function g(e,t){var n=v[t],r=e.inputArray.length;return[].concat(Object(f.a)(e.inputArray.slice(0,r-1)),[n])}function N(e){var t=e.inputArray.length,n=e.inputArray[t-1];return"NaN"===n||"ERROR"===n?"ERR":/.*(sin|cos|tan)$/g.test(n)?n.slice(n.length-3):n[n.length-1]}function k(e){if(0===e.length)return Number.NaN;if(e.endsWith("%")){var t=e.length;return"".concat(.01*k(e.slice(0,t-1)))}return e.startsWith("sin")?"".concat(Math.sin(k(e.slice(3)))):e.startsWith("cos")?"".concat(Math.cos(k(e.slice(3)))):e.startsWith("tan")?"".concat(Math.tan(k(e.slice(3)))):e.startsWith("\u221a")?"".concat(Math.sqrt(k(e.slice(1)))):"".concat(e)}function j(e,t){var n=e.inputArray,r=n.length;switch(t){case"equals":var a=e.inputArray.map((function(e){return k(e)}));return function(e){var t,n=[],r=Object(p.a)(e);try{for(r.s();!(t=r.n()).done;){var a=t.value;if(isNaN(a)){var i=n.pop(),c=n.pop();switch(a){case"+":n.push(Number(c)+Number(i));break;case"-":n.push(Number(c)-Number(i));break;case"*":n.push(Number(c)*Number(i));break;case"/":n.push(Number(c)/Number(i));break;case"^":n.push(Math.pow(Number(c),Number(i)))}}else n.push(a)}}catch(u){r.e(u)}finally{r.f()}return 1!==n.length?["ERROR"]:(n[0]=String(parseFloat(Number(n[0]).toFixed(10))),n)}(a=function(e){for(var t=[],n=[],r=0;r<e.length;r++){var a=e[r];if(isNaN(a)){if(0===n.length){n.push(a);continue}var i=b[n[n.length-1]],c=b[a];c>i?n.push(a):c<i?(t.push(n.pop()),r--):"^"===a?n.push(a):(t.push(n.pop()),r--)}else t.push(a)}for(;n.length>0;)t.push(n.pop());return t}(a=function(e){for(var t=[],n=!1,r=!0,a=0;a<e.length;a++){var i=e[a];r?(t.push("".concat(i*(n?-1:1))),n=!1,r=!1):["+-","*-","/-","^-"].includes(i)?(t.push(i.slice(0,1)),n=!0,r=!0):["+","-","*","/","^"].includes(i)?(r=!0,t.push(i)):(t.push("*"),t.push(i))}return t}(a)));case"clear":return[];case"zero":if(!r||"0"===n[r-1])return n;case"one":case"two":case"three":case"four":case"five":case"six":case"seven":case"eight":case"nine":if(r){if("0"===n[r-1])return g(e,t);var i=N(e);return"ERR"===i?n:["+","-","*","/","^","%"].includes(i)?E(e,t):A(e,t)}return E(e,t);case"decimal":if(!r)return E(e,"decimalNew");var c=N(e);return"ERR"===c?n:["sin","cos","tan","\u221a"].includes(c)?A(e,"decimalNew"):["+","-","*","/","^","%"].includes(c)?E(e,"decimalNew"):-1!==e.inputArray[r-1].indexOf(".")?e.inputArray:A(e,"decimal");case"percent":if(r){var u=N(e);return"ERR"===u?n:["sin","cos","tan","\u221a","+","-","*","/","^","%"].includes(u)?e.inputArray:A(e,t)}return e.inputArray;case"del":if(r){var s=N(e);if("ERR"===s)return n;var l=e.inputArray[r-1],o=l.length;return 1===o?Object(f.a)(e.inputArray.slice(0,r-1)):["sin","cos","tan"].includes(s)?3===o?Object(f.a)(e.inputArray.slice(0,r-1)):[].concat(Object(f.a)(e.inputArray.slice(0,r-1)),[l.slice(0,o-3)]):[].concat(Object(f.a)(e.inputArray.slice(0,r-1)),[l.slice(0,o-1)])}return e.inputArray;case"sin":case"cos":case"tan":case"sqrt":if(r){var d=N(e);if("ERR"===d)return n;var m=e.inputArray[r-1];return["sin","cos","tan","\u221a"].includes(d)?A(e,t):"0"===m?g(e,t):E(e,t)}return E(e,t);case"pow":if(r){var h=N(e);return"ERR"===h?n:["+","-","*","/","^"].includes(h)?g(e,t):["sin","cos","tan","\u221a"].includes(h)?e.inputArray:E(e,t)}return e.inputArray;case"subtract":if(!r)return e.inputArray;var v=N(e);if("ERR"===v)return n;if(["+","*","/"].includes(v))return A(e,t);case"add":case"multiply":case"divide":if(r){var y=N(e);return"ERR"===y?n:["+","-","*","/","^"].includes(y)?g(e,t):["sin","cos","tan","\u221a"].includes(y)?e.inputArray:E(e,t)}return e.inputArray;default:return n}}var O=n(12);var R=function(e){var t=function(t){var n=t.currentTarget.id,r=document.getElementById(n);e.btnClicked(n),r.classList.add("pressed"),setTimeout((function(){r.classList.remove("pressed")}),200)};return function(e){var n=Object(O.a)(e,3),r=n[0],i=n[1];return n[2]?a.a.createElement("button",{type:"button",className:"button",id:i,onClick:t},a.a.createElement("i",{className:r})):a.a.createElement("button",{type:"button",className:"button",id:i,onClick:t},r)}(e.buttonProp)},w=function(e){Object(o.a)(n,e);var t=Object(d.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"render",value:function(){var e=this;return a.a.createElement("div",{className:"buttons",id:"buttons"},m.map((function(t){return function(t){return a.a.createElement(R,{buttonProp:t,key:t[1],btnClicked:e.props.btnClicked})}(t)})))}}]),n}(a.a.Component),C=function(e){Object(o.a)(n,e);var t=Object(d.a)(n);function n(e){var r;return Object(u.a)(this,n),(r=t.call(this,e)).renderLastElem=r.renderLastElem.bind(Object(l.a)(r)),r.renderFormula=r.renderFormula.bind(Object(l.a)(r)),r}return Object(s.a)(n,[{key:"renderFormula",value:function(e){return e.join(" ")}},{key:"renderLastElem",value:function(e){var t=e.length;return t?e[t-1]:"0"}},{key:"render",value:function(){var e=this.props.inputArray;return a.a.createElement("div",{className:"screen"},a.a.createElement("div",{className:"screen-formula"},this.renderFormula(e)),a.a.createElement("hr",null),a.a.createElement("div",{className:"screen-last",id:"display"},this.renderLastElem(e)))}}]),n}(a.a.Component),L=function(e){Object(o.a)(n,e);var t=Object(d.a)(n);function n(e){var r;return Object(u.a)(this,n),(r=t.call(this,e)).state={inputArray:[]},r.btnClicked=r.btnClicked.bind(Object(l.a)(r)),r.audioElem=document.createElement("audio"),r}return Object(s.a)(n,[{key:"componentDidMount",value:function(){var e=this;document.addEventListener("keydown",(function(e){e.key in h&&document.getElementById(h[e.key]).click()})),fetch("https://raw.githubusercontent.com/AdmiJW/Items/master/Misc/office-calculator-single-button-press.mp3").then((function(e){return e.blob()})).then((function(t){var n=new FileReader;n.onload=function(){e.audioElem.src=n.result},n.readAsDataURL(t)})).catch((function(t){console.log("Fetching failed. Setting sound file directly as URL"),e.audioElem.src="https://raw.githubusercontent.com/AdmiJW/Items/master/Misc/office-calculator-single-button-press.mp3"}))}},{key:"btnClicked",value:function(e){this.audioElem.currentTime=0,this.audioElem.play(),this.setState((function(t){return{inputArray:j(t,e)}}))}},{key:"render",value:function(){return a.a.createElement("div",{className:"calculator",id:"calculator"},a.a.createElement(C,{inputArray:this.state.inputArray}),a.a.createElement(w,{btnClicked:this.btnClicked}))}}]),n}(a.a.Component);n(17);c.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(L,null)),document.getElementById("root"))}},[[18,1,2]]]);
//# sourceMappingURL=main.bd4f80da.chunk.js.map